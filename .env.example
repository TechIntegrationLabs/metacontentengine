# ============================================
# META CONTENT ENGINE - ENVIRONMENT VARIABLES
# ============================================
#
# SHARED SECRETS ARCHITECTURE
# ---------------------------
# This monorepo uses a cascading environment variable system:
#
# 1. Root .env.example (this file) - Defaults template (committed to git)
# 2. Root .env.local - Shared secrets for ALL apps (gitignored)
# 3. App .env.local - Per-app overrides (gitignored)
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to .env.local:
#    cp .env.example .env.local
# 2. Fill in your actual values in .env.local
# 3. For app-specific overrides, create apps/<app-name>/.env.local
#
# NEVER commit .env.local files - they contain real secrets!
#
# ============================================

# ============================================
# SUPABASE CONFIGURATION (REQUIRED)
# ============================================

# Supabase Project URL
# Get from: Supabase Dashboard > Project Settings > API > URL
VITE_SUPABASE_URL=https://your-project-ref.supabase.co

# Supabase Anonymous Key (safe for client-side)
# Get from: Supabase Dashboard > Project Settings > API > anon public
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabase Service Role Key (SERVER-SIDE ONLY - NEVER expose to client)
# Get from: Supabase Dashboard > Project Settings > API > service_role secret
# Used by: Supabase Edge Functions, server-side scripts, migrations
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Database connection string (for migrations and direct DB access)
# Get from: Supabase Dashboard > Project Settings > Database > Connection string
# Format: postgresql://postgres:[YOUR-PASSWORD]@db.your-project-ref.supabase.co:5432/postgres
DATABASE_URL=

# ============================================
# APP CONFIGURATION
# ============================================

# Default tenant ID for development
# Set to the UUID of your development tenant (e.g., GetEducated tenant)
# This is optional but helpful for development
VITE_TENANT_ID=

# Platform display name (default for all apps)
# Individual apps can override this in their .env.local
VITE_APP_NAME=Perdia

# Platform description
VITE_APP_DESCRIPTION=AI-Powered Content Generation Platform

# Environment identifier
# Values: development | staging | production
VITE_ENVIRONMENT=development

# ============================================
# ENCRYPTION (REQUIRED FOR PRODUCTION)
# ============================================

# Encryption key for API keys stored in tenant_api_keys table
# Generate with: openssl rand -hex 32
# Must also be set in database: ALTER DATABASE postgres SET app.encryption_key = 'your-key-here';
APP_ENCRYPTION_KEY=

# ============================================
# FEATURE FLAGS (FLAGSMITH)
# ============================================

# Flagsmith Environment ID
# Get from: Flagsmith Dashboard > Environment > Settings
# Leave empty to disable feature flags
VITE_FLAGSMITH_ENVIRONMENT_ID=

# Flagsmith API URL (optional - defaults to Flagsmith cloud)
# Only change if self-hosting Flagsmith
# VITE_FLAGSMITH_API_URL=https://edge.api.flagsmith.com/api/v1/

# ============================================
# AI PROVIDER API KEYS
# ============================================
#
# NOTE: Per-tenant API keys are stored ENCRYPTED in Supabase (tenant_api_keys table)
# These root-level keys are OPTIONAL fallbacks for platform-wide operations
# or for development when tenant keys aren't configured.
#
# In production, each tenant should configure their own keys via Settings UI.

# xAI Grok API Key (Primary AI Provider)
# Get from: https://x.ai/api
# Used for: Content drafting, outline generation, research
GROK_API_KEY=

# Anthropic Claude API Key
# Get from: https://console.anthropic.com/
# Used for: Alternative content generation, quality analysis
CLAUDE_API_KEY=

# StealthGPT API Key
# Get from: https://stealthgpt.ai
# Used for: Content humanization, AI detection bypass
STEALTHGPT_API_KEY=

# OpenAI API Key (Optional)
# Get from: https://platform.openai.com/api-keys
# Used for: GPT models, embeddings
OPENAI_API_KEY=

# ============================================
# WORDPRESS INTEGRATION
# ============================================
#
# NOTE: Per-tenant WordPress credentials are stored in Supabase
# These are OPTIONAL fallbacks or defaults

# WordPress Site URL
# WORDPRESS_URL=https://your-site.com

# WordPress Application Password
# Get from: WordPress Admin > Users > Profile > Application Passwords
# WORDPRESS_APP_PASSWORD=

# WordPress Username for API access
# WORDPRESS_USERNAME=

# ============================================
# DATAFORSEO (SEO Research)
# ============================================
#
# Used for: Keyword research, SERP analysis, competitor analysis
# Get from: https://dataforseo.com/

# DATAFORSEO_LOGIN=
# DATAFORSEO_PASSWORD=

# ============================================
# DEVELOPMENT SETTINGS
# ============================================

# Enable verbose debug logging
# Shows additional console output for troubleshooting
VITE_DEBUG=false

# Skip authentication in development (DANGER: NEVER in production!)
# Only use for local development without Supabase auth setup
# VITE_SKIP_AUTH=false

# Use mock AI responses (for testing without API keys)
# Returns placeholder content instead of calling AI APIs
# VITE_MOCK_AI=false

# ============================================
# LOCAL SUPABASE DEVELOPMENT
# ============================================
#
# When using `supabase start` for local development, use these values:
# Uncomment to override cloud Supabase settings
#
# VITE_SUPABASE_URL=http://localhost:54321
# VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
# SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU

# ============================================
# CI/CD & DEPLOYMENT
# ============================================

# NX Cloud access token (for build caching)
# Get from: https://nx.app
# NX_CLOUD_ACCESS_TOKEN=

# Vercel deployment tokens (set in Vercel project settings, not here)
# VERCEL_TOKEN=
# VERCEL_ORG_ID=
# VERCEL_PROJECT_ID=

# ============================================
# QUICK SETUP CHECKLIST
# ============================================
#
# Minimum for development:
# [x] Copy to .env.local
# [ ] Set VITE_SUPABASE_URL
# [ ] Set VITE_SUPABASE_ANON_KEY
# [ ] Run: npm install
# [ ] Run: npx nx serve geteducated
#
# For AI features:
# [ ] Set at least one AI API key (GROK_API_KEY recommended)
# [ ] Configure tenant API keys via Settings UI
#
# For production:
# [ ] Set VITE_ENVIRONMENT=production
# [ ] Set APP_ENCRYPTION_KEY (and in database)
# [ ] Configure all AI API keys at tenant level
# [ ] Set up proper database RLS policies
# [ ] Never commit .env.local
#
# ============================================
# APP-SPECIFIC OVERRIDES
# ============================================
#
# To override for a specific app, create:
#   apps/<app-name>/.env.local
#
# Example apps/geteducated/.env.local:
#   VITE_APP_NAME=GetEducated
#   VITE_APP_DESCRIPTION=AI-Powered Content for Education
#   VITE_TENANT_ID=your-geteducated-tenant-uuid
#
# The app-specific values will override root-level values.
# ============================================
